APP_ENV=local
LOG_LEVEL=INFO

POSTGRES_DSN=postgresql+asyncpg://postgres:postgres@localhost:5432/payments
REDIS_URL=redis://localhost:6379/0

# Processor provider URL resolution:
# 1) PROVIDER_MOCK_BASE_URL (if set) has highest priority
# 2) Otherwise uses <scheme>://<host>, where:
#    - APP_ENV=local -> LOCAL_PROVIDER_SCHEME (default http)
#    - APP_ENV!=local -> SECURE_PROVIDER_SCHEME (default https)
PROVIDER_MOCK_BASE_URL=
PROVIDER_MOCK_HOST=provider-mock:8082
LOCAL_PROVIDER_SCHEME=http
SECURE_PROVIDER_SCHEME=https

OTEL_TRACES_EXPORTER=console
OTEL_METRICS_EXPORTER=console
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318
OTEL_EXPORTER_OTLP_PROTOCOL=http/protobuf

# Rate limits
MERCHANT_RATE_LIMIT=120
CUSTOMER_RATE_LIMIT=80
ACCOUNT_RATE_LIMIT=80
RATE_LIMIT_WINDOW_SECONDS=60

# AML
AML_TOTAL_WINDOW_SECONDS=600
AML_TOTAL_THRESHOLD_AMOUNT=5000
AML_STRUCTURING_WINDOW_SECONDS=900
AML_STRUCTURING_COUNT_THRESHOLD=3
AML_BLOCKLIST_DESTINATIONS_CSV=dest-blocked-001,dest-blocked-002

# Provider mock fault injection
RANDOM_SEED=42
FAULT_5XX_RATE=0.05
TIMEOUT_RATE=0.03
LATENCY_SPIKE_RATE=0.10
DUPLICATE_RATE=0.02
PARTIAL_FAILURE_RATE=0.04
